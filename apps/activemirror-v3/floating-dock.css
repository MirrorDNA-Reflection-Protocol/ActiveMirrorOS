/**
 * FLOATING DOCK â€” Unified Button Layout System
 * Clean, organized positioning for all floating UI elements
 *
 * Layout Strategy:
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                           [â˜¼] [â™¿] [âš™]  TOP-RIGHTâ”‚
 * â”‚                                                 â”‚
 * â”‚                                                 â”‚
 * â”‚                                                 â”‚
 * â”‚[âŸ¡]                                        [ğŸ­] â”‚
 * â”‚ BOTTOM-LEFT                        BOTTOM-RIGHTâ”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */

/* ============================================
   TOP-RIGHT TOOLBAR
   Theme, Accessibility, Settings
   ============================================ */

.top-right-toolbar {
  position: fixed;
  top: 16px;
  right: 16px;
  z-index: 99998;
  display: flex;
  gap: 8px;
  align-items: center;
}

/* Override WOW features positioning when in toolbar */
.top-right-toolbar #theme-toggle,
.top-right-toolbar .wow-theme-toggle {
  position: relative !important;
  top: auto !important;
  right: auto !important;
  margin: 0 !important;
}

.top-right-toolbar #accessibility-toggle,
.top-right-toolbar .wow-accessibility-toggle {
  position: relative !important;
  top: auto !important;
  right: auto !important;
  margin: 0 !important;
}

/* Settings button in toolbar */
.toolbar-settings-btn {
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-tertiary, #1a1a24);
  border: 1px solid var(--glass-border, rgba(255,255,255,0.1));
  border-radius: 50%;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.toolbar-settings-btn:hover {
  transform: scale(1.1);
  border-color: var(--primary, #6366f1);
}

/* ============================================
   BOTTOM-LEFT DOCK
   Command Center (primary interaction point)
   ============================================ */

.bottom-left-dock {
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 1000;
  display: flex;
  flex-direction: column-reverse;
  gap: 12px;
  align-items: flex-start;
}

/* Override Command Center positioning when in dock */
.bottom-left-dock .command-icon {
  position: relative !important;
  bottom: auto !important;
  left: auto !important;
}

.bottom-left-dock .command-panel {
  position: absolute !important;
  bottom: 70px !important;
  left: 0 !important;
}

/* ============================================
   BOTTOM-RIGHT DOCK
   Reality Composer, Future Self, Context Pane
   ============================================ */

.bottom-right-dock {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
  display: flex;
  flex-direction: column-reverse;
  gap: 12px;
  align-items: flex-end;
}

/* Override Reality Composer positioning when in dock */
.bottom-right-dock .reality-composer-panel {
  position: relative !important;
  bottom: auto !important;
  right: auto !important;
}

.bottom-right-dock .rc-menu {
  position: absolute !important;
  bottom: 60px !important;
  right: 0 !important;
}

.rc-toggle {
  width: 48px !important;
  height: 48px !important;
}

/* Override Context Pane toggle if it exists as floating */
.context-pane-toggle {
  position: relative !important;
}

/* ============================================
   FLOATING BUTTON SHARED STYLE
   Consistent look across all dock buttons
   ============================================ */

.dock-btn {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 1px solid var(--glass-border, rgba(255,255,255,0.08));
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

.dock-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.4);
}

.dock-btn:active {
  transform: scale(0.95);
}

/* Primary dock button (Command Center) */
.dock-btn-primary {
  background: linear-gradient(135deg, var(--primary, #6366f1), var(--frontier, #8b5cf6));
  border-color: rgba(99, 102, 241, 0.4);
}

.dock-btn-primary:hover {
  box-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
}

/* Secondary dock buttons */
.dock-btn-secondary {
  background: var(--bg-tertiary, #1a1a24);
}

.dock-btn-secondary:hover {
  border-color: var(--primary, #6366f1);
}

/* ============================================
   PANELS â€” Open upward/inward from docks
   ============================================ */

/* Command Panel opens above the icon */
.command-panel {
  position: absolute !important;
  bottom: 60px !important;
  left: 0 !important;
}

/* Reality Composer menu opens above the toggle */
.rc-menu {
  position: absolute !important;
  bottom: 60px !important;
  right: 0 !important;
}

/* Accessibility menu opens below the toolbar */
#accessibility-menu,
.wow-accessibility-menu {
  position: absolute !important;
  top: 54px !important;
  right: 0 !important;
}

/* Future Self inline panel */
.future-self-inline {
  position: fixed !important;
  bottom: 90px !important;
  right: 20px !important;
}

/* ============================================
   TOASTS â€” Centered at bottom
   ============================================ */

.command-toast,
.eh-toast,
.wow-toast {
  position: fixed !important;
  bottom: 90px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  right: auto !important;
}

/* ============================================
   LIGHT THEME ADJUSTMENTS
   ============================================ */

[data-theme="light"] .dock-btn-secondary {
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

[data-theme="light"] .toolbar-settings-btn {
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* ============================================
   MOBILE RESPONSIVE
   ============================================ */

@media (max-width: 768px) {
  .top-right-toolbar {
    top: 12px;
    right: 12px;
    gap: 6px;
  }

  .top-right-toolbar button {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
    min-height: 40px !important;
    font-size: 16px !important;
  }

  .bottom-left-dock,
  .bottom-right-dock {
    bottom: 16px;
  }

  .bottom-left-dock {
    left: 16px;
  }

  .bottom-right-dock {
    right: 16px;
  }

  .dock-btn,
  .rc-toggle,
  .command-icon-inner {
    width: 44px !important;
    height: 44px !important;
  }

  .command-panel,
  .rc-menu {
    width: calc(100vw - 32px) !important;
    max-width: 340px !important;
  }
}

/* ============================================
   Z-INDEX HIERARCHY
   ============================================ */

/*
 * 100000+ : Modals, overlays (briefing, settings, break)
 * 99999   : Top toolbar (theme, accessibility)
 * 10000   : Quick tools modals
 * 2000    : Event hub prompts, toasts
 * 1000    : Bottom docks, floating panels
 * 999     : Physical suggestions
 */
